<script setup>
import FooterHome from "../components/FooterHome.vue";
import { api, useAuthStore } from "../stores/counter";
import { useRouter } from "vue-router";
import { ref } from "vue";
const name = ref("");
const email = ref("");
const password = ref("");
const authuser = useAuthStore();
const router = useRouter();
const rejister = async () => {
  try {
    if (!name.value || !email.value || !password.value)
      return alert("ูู ุงูุญููู ูุทููุจู");
    await authuser.register({
      name: name.value,
      email: email.value,
      password: password.value,
    });
    router.push("/");
  } catch {
    alert("ูุดู ุงูุชุณุฌูู");
  }
};
</script>
<template>
  <div class="d-flex flex-column min-vh-100">
    <div class="container px-4 py-5 my-5">
      <div class="row align-items-center g-5 justify-content-center">
        <!-- ุงููุตูุต ุงูุชุฑุญูุจูุฉ -->
        <div class="col-12 col-lg-6 text-center text-lg-start">
          <h1 class="display-5 display-md-4 fw-bold text-body-emphasis mb-3">
            ุฃูุดุฆ ุญุณุงุจู ๐
          </h1>
          <p class="lead fs-5 text-muted">
            ุฃูุดุฆ ุญุณุงุจู ุงููุฌุงูู ุงูููู ูุชุญุตู ุนูู ูุตูู ูุงูู ุฅูู ููุงูุงุช ุญุตุฑูุฉุ
            ููุญุชูู ููุฎุตูุตุ ูุฅููุงููุฉ ุงูุชุนููู ุนูู ุงูููุดูุฑุงุช. ูุณุนุฏูุง ุงูุถูุงูู ุฅูููุง!
          </p>
        </div>

        <!-- ุงูููุฑู -->
        <div class="col-12 col-md-8 col-lg-5 col-xl-4">
          <form
            @submit.prevent="rejister"
            class="p-4 p-md-5 border rounded-4 shadow-lg bg-white"
          >
            <div class="form-floating mb-4">
              <input
                v-model="name"
                type="text"
                class="form-control form-control-lg"
                id="floatingName"
                placeholder="Your Name"
                required
              />
              <label for="floatingName">ุฃุณูู</label>
            </div>

            <div class="form-floating mb-4">
              <input
                v-model="email"
                type="email"
                class="form-control form-control-lg"
                id="floatingEmail"
                placeholder="name@example.com"
                required
              />
              <label for="floatingEmail">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
            </div>

            <div class="form-floating mb-4">
              <input
                v-model="password"
                type="password"
                class="form-control form-control-lg"
                id="floatingPassword"
                placeholder="Password"
                required
                minlength="6"
              />
              <label for="floatingPassword"> ูููุฉ ุงููุฑูุฑ</label>
            </div>

            <button
              class="w-100 btn btn-primary btn-lg py-3 fw-bold"
              type="submit"
            >
              ุงูุดุงุก ุญุณุงุจ
            </button>

            <hr class="my-4 border-secondary" />

            <div class="text-center">
              <small class="text-muted">
                ูู ูุฏูู ุญุณุงุจ ุจุงููุนูุ
                <router-link to="/login" class="text-primary fw-bold">
                  ุชุณุฌูู ุงูุฏุฎูู
                </router-link>
              </small>
            </div>

            <small class="d-block text-center text-muted mt-3">
              ุจุงูููุฑ ุนูู "ุงูุดุงุก ุญุณุงุจ"ุ ูุฅูู ุชูุงูู ุนูู ุดุฑูุท ุงูุงุณุชุฎุฏุงู.
            </small>
          </form>
        </div>
      </div>
    </div>

    <FooterHome class="mt-auto" />
  </div>
</template>
<style scoped>
/* ุชุญุณููุงุช ุฎุงุตุฉ ุจุงูููุจุงูู */
@media (max-width: 768px) {
  .display-5 {
    font-size: 2.5rem;
  }
  .lead {
    font-size: 1.1rem;
  }
  .form-control-lg {
    font-size: 1.1rem;
    padding: 1rem;
  }
  .btn-lg {
    padding: 1rem;
    font-size: 1.1rem;
  }
}

/* ุธู ูุฎูููุฉ ูุทููุฉ ููููุฑู */
form {
  background: linear-gradient(145deg, #ffffff, #f8f9fa);
}
</style>
